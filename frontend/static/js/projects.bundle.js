/*! For license information please see projects.bundle.js.LICENSE.txt */
(()=>{"use strict";var t,e=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i={method:t},a={};o&&(a.Authorization="Bearer "+localStorage.getItem("access_token")),n?(i.body=JSON.stringify(n),a["Content-Type"]="application/json"):r&&(i.body=r),i.headers=new Headers(a);var c=fetch(e,i);return c},n=(t=API_URL,{getProjects:function(n,r,o,i){var a="".concat(t,"/projects/?skip=").concat(n,"&limit=").concat(r,"&orderby=").concat(o,"&orderdir=").concat(i);return e("GET",a,null,null,!0)},getProject:function(n){var r="".concat(t,"/project/").concat(n);return e("GET",r,null,null,!0)},deleteProject:function(n){var r="".concat(t,"/project/").concat(n);return e("DELETE",r,null,null,!0)},createProject:function(n){var r="".concat(t,"/projects/");return e("POST",r,n,null,!0)},updateProject:function(n,r){var o="".concat(t,"/project/").concat(n);return e("PUT",o,r,null,!0)},getAnnotationIds:function(){var n="".concat(t,"/annotation_ids/");return e("GET",n,null,null,!0)},exportProject:function(n){var r="".concat(t,"/export/").concat(n);return e("GET",r,null,null,!0)},importProject:function(n){var r="".concat(t,"/import/");return e("POST",r,null,n,!0)},getImages:function(n){var r="".concat(t,"/project/").concat(n,"/images/");return e("GET",r,null,null,!0)},getImageFile:function(n){var r="".concat(t,"/image_file/").concat(n);return e("GET",r,null,null,!0)},createImages:function(n,r){var o="".concat(t,"/project/").concat(n,"/images/");return e("POST",o,null,r,!0)},deleteImage:function(n){var r="".concat(t,"/image/").concat(n);return e("DELETE",r,null,null,!0)},getAnnotation:function(n){var r="".concat(t,"/annotation/").concat(n);return e("GET",r,null,null,!0)},updateAnnotation:function(n,r){var o="".concat(t,"/annotation/").concat(n);return e("PUT",o,r,null,!0)},createUser:function(n){var r="".concat(t,"/users/");return e("POST",r,n,null,!1)},loginUser:function(n){var r="".concat(t,"/token");return e("POST",r,null,n,!1)},isValid:function(n){var r="".concat(t,"/isvalid/").concat(n);return e("GET",r,null,null,!1)}});function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(){o=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,i=Object.create(o.prototype),a=new j(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function f(){}function h(){}function m(){}var y={};u(y,a,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(k([])));g&&g!==e&&n.call(g,a)&&(y=g);var w=m.prototype=f.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function o(i,a,c,s){var u=d(t[i],t,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==r(p)&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,c,s)}),(function(t){o("throw",t,c,s)})):e.resolve(p).then((function(t){l.value=t,c(l)}),(function(t){return o("throw",t,c,s)}))}s(u.arg)}var i;this._invoke=function(t,n){function r(){return new e((function(e,r){o(t,n,e,r)}))}return i=i?i.then(r,r):r()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=d(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,p;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function k(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=m,u(w,"constructor",m),u(m,"constructor",h),h.displayName=u(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},b(x.prototype),u(x.prototype,c,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}function i(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(t){i(a,r,o,c,s,"next",t)}function s(t){i(a,r,o,c,s,"throw",t)}c(void 0)}))}}function c(){return s.apply(this,arguments)}function s(){return(s=a(o().mark((function t(){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getAnnotationIds();case 2:if(200!=(e=t.sent).status){t.next=10;break}return t.next=6,e.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:if(401!=e.status){t.next=14;break}y(),t.next=15;break;case 14:throw new Error("Failed to get annotation ids");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return(l=a(o().mark((function t(){var e,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=localStorage.getItem("access_token")){t.next=3;break}return t.abrupt("return",!1);case 3:return t.next=5,n.isValid(e);case 5:if(200!=(r=t.sent).status){t.next=13;break}return t.next=9,r.json();case 9:return i=t.sent,t.abrupt("return",i.isvalid);case 13:throw new Error("Failed to determine whether user is logged in");case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return p.apply(this,arguments)}function p(){return(p=a(o().mark((function t(e){var r,i,a,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.exportProject(e);case 2:if(200!=(r=t.sent).status){t.next=18;break}return i=r.headers.get("Content-Disposition"),a=(a=i.split(/;(.+)/)[1].split(/=(.+)/)[1]).toLowerCase().startsWith("utf-8''")?decodeURIComponent(a.replace("utf-8''","")):a.replace(/['"]/g,""),t.next=9,r.blob();case 9:c=t.sent,(s=document.createElement("a")).href=URL.createObjectURL(c),s.download=a,document.body.appendChild(s),s.click(),s.remove(),t.next=23;break;case 18:if(401!=r.status){t.next=22;break}y(),t.next=23;break;case 22:throw new Error("Failed to export project with id ".concat(e));case 23:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return h.apply(this,arguments)}function h(){return(h=a(o().mark((function t(e){var n,r,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=FRONTEND_URLS.getEditProjectUrl+"?project_id="+e,r={method:"GET",headers:new Headers({Authorization:"Bearer "+localStorage.getItem("access_token")})},t.next=4,fetch(n,r);case 4:if(200!=(i=t.sent).status){t.next=12;break}return t.next=8,i.json();case 8:a=t.sent,window.location.href=a.url,t.next=17;break;case 12:if(401!=i.status){t.next=16;break}y(),t.next=17;break;case 16:throw new Error("Failed to get url for setting up project with id ".concat(e));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(){return(m=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:t.sent?e():y();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(){window.location.href=FRONTEND_URLS.login}function v(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(){w=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new j(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function d(){}function p(){}function f(){}var h={};c(h,o,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==e&&n.call(y,o)&&(h=y);var v=f.prototype=d.prototype=Object.create(h);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,c){var s=u(t[o],t,i);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==g(d)&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(s.arg)}var o;this._invoke=function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=f,c(v,"constructor",f),c(f,"constructor",p),p.displayName=c(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,c(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(x.prototype),c(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function b(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){b(i,r,o,a,c,"next",t)}function c(t){b(i,r,o,a,c,"throw",t)}a(void 0)}))}}var E,L={},_="Project deleted.",j="Failed to delete project.",k="Project imported.",S="Failed to import project",I=0,T="name",P="asc",O=new mdc.dialog.MDCDialog(document.querySelector("#delete-project-dialog")),B=new mdc.menu.MDCMenu(document.querySelector(".mdc-menu")),G=new mdc.snackbar.MDCSnackbar(document.querySelector(".mdc-snackbar"));function F(t){return N.apply(this,arguments)}function N(){return N=x(w().mark((function t(e){var r,o,i,a,c,s=arguments;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:0,o=s.length>2&&void 0!==s[2]?s[2]:10,i=s.length>3&&void 0!==s[3]?s[3]:"name",a=s.length>4&&void 0!==s[4]?s[4]:"asc",t.next=6,n.getProjects(r,o,i,a);case 6:if(200!=(c=t.sent).status){t.next=15;break}return I=c.headers.get("X-Total-Count"),t.next=11,c.json();case 11:t.sent.forEach((function(t){X(t,t.images.length,J(t.images,e))})),t.next=20;break;case 15:if(401!=c.status){t.next=19;break}y(),t.next=20;break;case 19:throw new Error("Failed to get projects");case 20:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}function D(t){return A.apply(this,arguments)}function A(){return(A=x(w().mark((function t(e){var r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.deleteProject(e);case 2:if(200!=(r=t.sent).status){t.next=9;break}console.log(_),G.labelText=_,G.open(),t.next=17;break;case 9:if(401!=r.status){t.next=13;break}y(),t.next=17;break;case 13:throw console.log(j),G.labelText=j,G.open(),new Error("Failed to delete project with id ".concat(e));case 17:z();case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return C.apply(this,arguments)}function C(){return(C=x(w().mark((function t(e){var r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.importProject(e);case 2:if(201!=(r=t.sent).status){t.next=9;break}console.log(k),G.labelText=k,G.open(),t.next=17;break;case 9:if(401!=r.status){t.next=13;break}y(),t.next=17;break;case 13:throw console.log(S),G.labelText=S,G.open(),new Error("Failed to import project");case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function U(){var t=Math.ceil(I/3);if(t>1){var e=document.getElementById("pagination-projects").querySelector(".pagination-main");e.innerHTML="";for(var n=1;n<=t;n++){var r='\n                <button id="button-pagination-'.concat(n,'" class="mdc-button button-pagination" style="display: none;">\n                    <span class="mdc-button__ripple"></span>\n                    <span class="mdc-button__focus-ring"></span>\n                    <span class="mdc-button__label">').concat(n,"</span>\n                </button>");e.appendChild(v(r)),document.getElementById("button-pagination-".concat(n)).addEventListener("click",q.bind(null,n))}}else document.getElementById("pagination-projects").style.display="none"}function R(t){var e=Math.ceil(I/3),n=t-2,r=n+4,o=Math.max(0,1-n),i=-1*Math.min(0,e-r),a=document.getElementById("pagination-projects").querySelector(".pagination-dots-left"),c=document.getElementById("pagination-projects").querySelector(".pagination-dots-right");a.style.display="inline",c.style.display="inline";for(var s=1;s<=e;s++){var u=document.getElementById("button-pagination-".concat(s));s>=n-i&&s<=r+o?(u.style.display="inline",1==s&&(a.style.display="none"),s==e&&(c.style.display="none")):u.style.display="none"}!function(t){var e=document.getElementById("pagination-projects").querySelector(".pagination-main");Array.from(e.children).forEach((function(t){t.classList.remove("button-pagination-active")})),e.querySelector("#button-pagination-".concat(t)).classList.add("button-pagination-active")}(t)}function q(t){return H.apply(this,arguments)}function H(){return(H=x(w().mark((function t(e){var n,r,o;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"first"==e?e=1:"last"==e&&(n=Math.ceil(I/3),e=n),r=3*(e-1),R(e),t.next=5,c();case 5:o=t.sent,Y(),F(o,r,3,T,P);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Y(){document.getElementById("projects-list").innerHTML="",document.getElementById("projects-list-menu-list").innerHTML=""}function z(){return V.apply(this,arguments)}function V(){return(V=x(w().mark((function t(){var e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:return e=t.sent,Y(),t.next=6,F(e,0,3,"name","asc");case 6:U(),R(1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t,e,n){var r=new Date(t.created).toLocaleString("en-GB"),o=new Date(t.edited).toLocaleString("en-GB"),i='\n        <li class="mdc-list-item mdc-list-item--with-two-lines mdc-list-item--with-trailing-image" id="projects-list-item-'.concat(t.id,'">\n            <span class="mdc-list-item__ripple"></span>\n            <span class="mdc-list-item__start"></span>\n            <span class="mdc-list-item__content">\n                <span class="mdc-list-item__primary-text">').concat(t.name,'</span>\n                <span class="mdc-list-item__secondary-text">').concat(n," / ").concat(e," images annotated | created ").concat(r," | modified ").concat(o,'</span>\n            </span>\n            <span class="mdc-list-item__end list-item-end-custom">\n                <button class="mdc-icon-button material-icons" id="projects-list-item-menu-button-').concat(t.id,'">\n                    <div class="mdc-icon-button__ripple"></div>\n                    <span class="mdc-icon-button__focus-ring"></span>\n                    more_vert\n                </button>\n            </span>\n        </li>'),a='\n        <div class="mdc-menu mdc-menu-surface" id="projects-list-menu-'.concat(t.id,'">\n            <ul class="mdc-deprecated-list" role="menu" aria-hidden="true" aria-orientation="vertical" tabindex="-1">\n                <li class="mdc-deprecated-list-item" role="menuitem" id="projects-list-menu-annotate-').concat(t.id,'">\n                    <span class="mdc-deprecated-list-item__ripple"></span>\n                    <span class="mdc-deprecated-list-item__text">Annotate</span>\n                    <span class="mdc-deprecated-list-item__meta">\n                        <i class="material-icons menu-icon">edit</i>\n                    </span>\n                </li>\n                <li class="mdc-deprecated-list-item" role="menuitem" id="projects-list-menu-setup-').concat(t.id,'">\n                    <span class="mdc-deprecated-list-item__ripple"></span>\n                    <span class="mdc-deprecated-list-item__text">Setup</span>\n                    <span class="mdc-deprecated-list-item__meta">\n                        <i class="material-icons menu-icon">build</i>\n                    </span>\n                </li>\n                <li class="mdc-deprecated-list-item" role="menuitem" id="projects-list-menu-export-').concat(t.id,'">\n                    <span class="mdc-deprecated-list-item__ripple"></span>\n                    <span class="mdc-deprecated-list-item__text">Export</span>\n                    <span class="mdc-deprecated-list-item__meta">\n                        <i class="material-icons menu-icon">download</i>\n                    </span>\n                </li>\n                <li class="mdc-deprecated-list-item" role="menuitem" id="projects-list-menu-delete-').concat(t.id,'">\n                    <span class="mdc-deprecated-list-item__ripple"></span>\n                    <span class="mdc-deprecated-list-item__text">Delete</span>\n                    <span class="mdc-deprecated-list-item__meta">\n                        <i class="material-icons menu-icon">delete</i>\n                    </span>\n                </li>\n            </ul>\n        </div>');document.getElementById("projects-list").appendChild(v(i)),document.getElementById("projects-list-menu-list").appendChild(v(a)),document.getElementById("projects-list-item-".concat(t.id)).addEventListener("click",K.bind(null,t.id)),document.getElementById("projects-list-item-menu-button-".concat(t.id)).addEventListener("click",W.bind(null,t.id)),document.getElementById("projects-list-menu-annotate-".concat(t.id)).addEventListener("click",K.bind(null,t.id)),document.getElementById("projects-list-menu-setup-".concat(t.id)).addEventListener("click",f.bind(null,t.id)),document.getElementById("projects-list-menu-export-".concat(t.id)).addEventListener("click",d.bind(null,t.id)),document.getElementById("projects-list-menu-delete-".concat(t.id)).addEventListener("click",Z.bind(null,t.id)),L[t.id]=new mdc.menu.MDCMenu(document.querySelector("#projects-list-menu-".concat(t.id))),[].map.call(document.querySelectorAll(".mdc-list-item"),(function(t){return new mdc.ripple.MDCRipple(t)}))}function J(t,e){for(var n=0,r=0;r<t.length;r++)e.includes(t[r].id)&&n++;return n}function W(t,e){var n=L[t];n.setAbsolutePosition(e.clientX,e.clientY),n.open=!n.open,e.stopPropagation()}function K(t){return Q.apply(this,arguments)}function Q(){return(Q=x(w().mark((function t(e){var n,r,o,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=FRONTEND_URLS.getEditorUrl+"?project_id="+e,r={method:"GET",headers:new Headers({Authorization:"Bearer "+localStorage.getItem("access_token")})},t.next=4,fetch(n,r);case 4:if(200!=(o=t.sent).status){t.next=12;break}return t.next=8,o.json();case 8:i=t.sent,window.location.href=i.url,t.next=17;break;case 12:if(401!=o.status){t.next=16;break}y(),t.next=17;break;case 16:throw new Error("Failed to get url for annotating project with id ".concat(e));case 17:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(t){var e=document.getElementById("delete-project-dialog-button");e.removeEventListener("click",E),E=D.bind(null,t),e.addEventListener("click",E),O.open()}function $(){return($=x(w().mark((function t(e){var n,r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.target.files[0],(r=new FormData).append("file",n),t.next=5,M(r);case 5:z(),e.target.value=null;case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t,e){return et.apply(this,arguments)}function et(){return(et=x(w().mark((function t(e,n){var r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:return r=t.sent,Y(),T=e,P=n,t.next=8,F(r,0,3,T,P);case 8:q("first");case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}document.getElementById("import-project-input").addEventListener("change",(function(t){return $.apply(this,arguments)})),document.getElementById("orderby-menu-open-button").addEventListener("click",(function(){B.open=!B.open})),document.getElementById("new-project-button").addEventListener("click",(function(){window.location.href=FRONTEND_URLS.addProject})),document.getElementById("orderby-menu-name-asc").addEventListener("click",tt.bind(null,"name","asc")),document.getElementById("orderby-menu-name-desc").addEventListener("click",tt.bind(null,"name","desc")),document.getElementById("orderby-menu-created-asc").addEventListener("click",tt.bind(null,"created","asc")),document.getElementById("orderby-menu-created-desc").addEventListener("click",tt.bind(null,"created","desc")),document.getElementById("orderby-menu-edited-asc").addEventListener("click",tt.bind(null,"edited","asc")),document.getElementById("orderby-menu-edited-desc").addEventListener("click",tt.bind(null,"edited","desc")),document.getElementById("button-pagination-first").addEventListener("click",q.bind(null,"first")),document.getElementById("button-pagination-last").addEventListener("click",q.bind(null,"last")),function(t){m.apply(this,arguments)}((function(){z()}))})();