(()=>{"use strict";var e=function(e,t,n=null,l=null,r=!0){const o={method:e};let u={};return r&&(u.Authorization="Bearer "+localStorage.getItem("access_token")),n?(o.body=JSON.stringify(n),u["Content-Type"]="application/json"):l&&(o.body=l),o.headers=new Headers(u),fetch(t,o)},t=function(){let t=API_URL;return{getProjects:function(n,l,r,o){return e("GET",`${t}/projects/?skip=${n}&limit=${l}&orderby=${r}&orderdir=${o}`,null,null,!0)},getProject:function(n){return e("GET",`${t}/project/${n}`,null,null,!0)},deleteProject:function(n){return e("DELETE",`${t}/project/${n}`,null,null,!0)},createProject:function(n){return e("POST",`${t}/projects/`,n,null,!0)},updateProject:function(n,l){return e("PUT",`${t}/project/${n}`,l,null,!0)},getAnnotationIds:function(){return e("GET",`${t}/annotation_ids/`,null,null,!0)},exportProject:function(n){return e("GET",`${t}/export/${n}`,null,null,!0)},importProject:function(n){return e("POST",`${t}/import/`,null,n,!0)},getImages:function(n){return e("GET",`${t}/project/${n}/images/`,null,null,!0)},getImageFile:function(n){return e("GET",`${t}/image_file/${n}`,null,null,!0)},createImages:function(n,l){return e("POST",`${t}/project/${n}/images/`,null,l,!0)},deleteImage:function(n){return e("DELETE",`${t}/image/${n}`,null,null,!0)},getAnnotation:function(n){return e("GET",`${t}/annotation/${n}`,null,null,!0)},updateAnnotation:function(n,l){return e("PUT",`${t}/annotation/${n}`,l,null,!0)},createUser:function(n){return e("POST",`${t}/users/`,n,null,!1)},loginUser:function(n){return e("POST",`${t}/token`,null,n,!1)},isValid:function(n){return e("GET",`${t}/isvalid/${n}`,null,null,!1)}}}();const n={username:new mdc.textField.MDCTextField(document.querySelector("#text-field-username")),full_name:new mdc.textField.MDCTextField(document.querySelector("#text-field-fullname")),email:new mdc.textField.MDCTextField(document.querySelector("#text-field-email")),password:new mdc.textField.MDCTextField(document.querySelector("#text-field-password")),password_repeated:new mdc.textField.MDCTextField(document.querySelector("#text-field-password-repeated"))};document.getElementById("registration-form-submit-button").addEventListener("click",(function(){const e=document.getElementById("text-field-username-input").value,l=document.getElementById("text-field-password-input").value,r=document.getElementById("text-field-password-repeated-input").value,o=document.getElementById("text-field-fullname-input").value;!async function(e){var l=await t.createUser(e);if(201==l.status)console.log("Created new user"),window.location.href=FRONTEND_URLS.projects;else if(409==l.status){const e=await l.json();n.username.helperTextContent=e.detail,n.username.valid=!1}else{if(422!=l.status)throw new Error("Unknown error when creating user.");{const e=await l.json();!function(e,t){t.detail.forEach((t=>{const n=t.loc[1];console.log(n),e[n].helperTextContent=t.msg,e[n].valid=!1}))}(n,e)}}}({username:e,email:document.getElementById("text-field-email-input").value,full_name:o,disabled:!1,password:l,password_repeated:r})}))})();